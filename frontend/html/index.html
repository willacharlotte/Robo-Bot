<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cluedo</title>
    <link href="../css/style.css" rel="stylesheet" />
  </head>

  <body>
    <section>
      <ul id="pieces">
        <li id="red" class="token"></li>
        <li id="blue" class="token"></li>
        <li id="green" class="token"></li>
        <li id="purple" class="token"></li>
        <li id="yellow" class="token"></li>
        <li id="white" class="token"></li>
      </ul>
    </section>

    <section id="weapons">
      <img id="candlestick" src="../../assets/candlestick.svg" />
      <img id="knife" src="../../assets/knife.svg" />
      <img id="lead-pipe" src="../../assets/lead-pipe.svg" />
      <img id="revolver" src="../../assets/revolver.svg" />
      <img id="rope" src="../../assets/rope.svg" />
      <img id="wrench" src="../../assets/wrench.svg" />
    </section>

    <script>
      var theThing = document.querySelector('#piece');
      var container = document.querySelector('#contentContainer');

      container.addEventListener('click', getClickPosition, false);

      function getClickPosition(e) {
        var parentPosition = getPosition(e.currentTarget);
        var xPosition = e.clientX - parentPosition.x - theThing.clientWidth / 2;
        var yPosition =
          e.clientY - parentPosition.y - theThing.clientHeight / 2;

        theThing.style.left = xPosition + 'px';
        theThing.style.top = yPosition + 'px';
      }

      // Helper function to get an element's exact position
      function getPosition(el) {
        var xPos = 0;
        var yPos = 0;

        while (el) {
          if (el.tagName == 'BODY') {
            // deal with browser quirks with body/window/document and page scroll
            var xScroll = el.scrollLeft || document.documentElement.scrollLeft;
            var yScroll = el.scrollTop || document.documentElement.scrollTop;

            xPos += el.offsetLeft - xScroll + el.clientLeft;
            yPos += el.offsetTop - yScroll + el.clientTop;
          } else {
            // for all other non-BODY elements
            xPos += el.offsetLeft - el.scrollLeft + el.clientLeft;
            yPos += el.offsetTop - el.scrollTop + el.clientTop;
          }

          el = el.offsetParent;
        }
        return {
          x: xPos,
          y: yPos,
        };
      }
    </script>
  </body>
</html>
